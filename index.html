<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>SEC Shares Outstanding for Entity</title><script src="https://cdn.tailwindcss.com"></script><style>body {font-family: 'Inter', sans-serif;}</style></head><body class="bg-gray-100 min-h-screen flex items-center justify-center p-4"><div class="bg-white rounded-lg shadow-xl p-8 max-w-2xl w-full"><h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-6 text-center">SEC Common Stock Shares Outstanding for <span id="share-entity-name">Loading...</span></h1><div id="loading-spinner" class="flex justify-center items-center py-8"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"></div><p class="ml-4 text-gray-600">Fetching data...</p></div><div id="error-message" class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6" role="alert"><strong class="font-bold">Error!</strong><span class="block sm:inline" id="error-details">Failed to fetch data. Please try again.</span></div><div id="data-content" class="hidden"><div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"><div class="bg-blue-50 p-6 rounded-lg shadow-md"><h2 class="text-xl font-semibold text-blue-800 mb-3">Maximum Shares Outstanding</h2><p class="text-gray-700 text-lg">Value: <span id="share-max-value" class="font-bold text-blue-900"></span></p><p class="text-gray-600">Fiscal Year: <span id="share-max-fy" class="font-medium"></span></p></div><div class="bg-green-50 p-6 rounded-lg shadow-md"><h2 class="text-xl font-semibold text-green-800 mb-3">Minimum Shares Outstanding</h2><p class="text-gray-700 text-lg">Value: <span id="share-min-value" class="font-bold text-green-900"></span></p><p class="text-gray-600">Fiscal Year: <span id="share-min-fy" class="font-medium"></span></p></div></div><p class="text-sm text-gray-500 text-center">Data provided by the U.S. Securities and Exchange Commission (SEC).<br>Filtered for fiscal years greater than 2020.</p></div></div><script>const formatNumber = (num) => {if (num === null || num === undefined) return 'N/A';return new Intl.NumberFormat('en-US').format(num);};const updateUI = (entityName, maxValue, maxFy, minValue, minFy) => {document.title = `SEC Shares Outstanding for ${entityName}`;document.getElementById('share-entity-name').textContent = entityName;document.getElementById('share-max-value').textContent = formatNumber(maxValue);document.getElementById('share-max-fy').textContent = maxFy;document.getElementById('share-min-value').textContent = formatNumber(minValue);document.getElementById('share-min-fy').textContent = minFy;};const showLoading = () => {document.getElementById('loading-spinner').classList.remove('hidden');document.getElementById('data-content').classList.add('hidden');document.getElementById('error-message').classList.add('hidden');};const showData = () => {document.getElementById('loading-spinner').classList.add('hidden');document.getElementById('data-content').classList.remove('hidden');document.getElementById('error-message').classList.add('hidden');};const showError = (message) => {document.getElementById('loading-spinner').classList.add('hidden');document.getElementById('data-content').classList.add('hidden');document.getElementById('error-message').classList.remove('hidden');document.getElementById('error-details').textContent = message;document.title = 'Error | SEC Shares Outstanding';document.getElementById('share-entity-name').textContent = 'Error';};const fetchDataAndRender = async (cik) => {showLoading();const apiUrl = `https://data.sec.gov/api/xbrl/companyconcept/CIK${cik}/dei/EntityCommonStockSharesOutstanding.json`;try {const response = await fetch(apiUrl, {headers: {'User-Agent': 'AllegionApp/1.0 (contact@allegion.com)'}});if (!response.ok) {throw new Error(`HTTP error! Status: ${response.status} - ${response.statusText}`);}const data = await response.json();const entityName = data.entityName || 'Unknown Entity';const sharesData = data.units.shares;let maxVal = -Infinity;let maxFy = 'N/A';let minVal = Infinity;let minFy = 'N/A';let foundData = false;if (sharesData && Array.isArray(sharesData)) {const filteredShares = sharesData.filter(entry => {const fiscalYear = parseInt(entry.fy);return !isNaN(fiscalYear) && fiscalYear > 2020 && typeof entry.val === 'number';});if (filteredShares.length > 0) {foundData = true;filteredShares.forEach(entry => {if (entry.val > maxVal) {maxVal = entry.val;maxFy = entry.fy;}if (entry.val < minVal) {minVal = entry.val;minFy = entry.fy;}});}}if (foundData) {updateUI(entityName, maxVal, maxFy, minVal, minFy);showData();} else {updateUI(entityName, 'No Data', 'N/A', 'No Data', 'N/A');showError(`No relevant shares outstanding data found for ${entityName} (CIK: ${cik}) after 2020.`);}} catch (error) {console.error("Failed to fetch or process data:", error);showError(`Could not retrieve data for CIK ${cik}. Details: ${error.message}. Please check the CIK and try again.`);updateUI('Error', 'N/A', 'N/A', 'N/A', 'N/A');}};document.addEventListener('DOMContentLoaded', () => {const urlParams = new URLSearchParams(window.location.search);const cikParam = urlParams.get('CIK');const defaultCik = '0001579241';const targetCik = cikParam ? cikParam.padStart(10, '0') : defaultCik;fetchDataAndRender(targetCik);});</script></body></html>